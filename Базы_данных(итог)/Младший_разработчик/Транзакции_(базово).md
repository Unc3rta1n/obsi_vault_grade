## 1. Что такое транзакция?

Транзакция — это последовательность операций с базой данных, которые выполняются как единое целое. Если хотя бы одна операция внутри транзакции не удается, все изменения откатываются, обеспечивая целостность данных.

## 2. Свойства транзакций (ACID)

Транзакции в реляционных базах данных следуют принципу **ACID**:

- **Atomicity (Атомарность)** – либо вся транзакция выполняется, либо не выполняется ничего.
- **Consistency (Согласованность)** – после транзакции база остается в корректном состоянии.
- **Isolation (Изоляция)** – транзакции не мешают друг другу.
- **Durability (Долговечность)** – после фиксации транзакции данные сохраняются даже при сбоях.

## 3. Основные команды транзакций

### Открытие транзакции (`BEGIN`)
Начинает новую транзакцию.

```sql
BEGIN;
```

### Фиксация изменений (`COMMIT`)
Сохраняет изменения, сделанные в рамках транзакции.

```sql
COMMIT;
```

### Отмена изменений (`ROLLBACK`)
Отменяет все изменения, если что-то пошло не так.

```sql
ROLLBACK;
```

## 4. Пример использования транзакции

Допустим, нам нужно перевести деньги с одного счета на другой. Без транзакции могут возникнуть проблемы, если одна операция выполнится, а вторая – нет.

```sql
BEGIN;

UPDATE accounts SET balance = balance - 100 WHERE id = 1;  -- Списываем деньги
UPDATE accounts SET balance = balance + 100 WHERE id = 2;  -- Зачисляем деньги

COMMIT;
```

Если вторая операция не удалась, можно отменить изменения:

```sql
ROLLBACK;
```

## 5. Почему транзакции важны?

- Предотвращают потерю данных при сбоях.
- Гарантируют целостность информации.
- Позволяют корректно обрабатывать ошибки.
